# =============================================================================
# Biến Môi Trường Backend BELEARNINGAI
# =============================================================================
# Hướng dẫn: Sao chép file này thành file tên ".env" và điền các giá trị thực tế vào.
# QUAN TRỌNG: KHÔNG ĐƯỢC commit file .env chứa mật khẩu lên Git!

# -----------------------------------------------------------------------------
# Cài đặt Ứng dụng (Application Settings)
# -----------------------------------------------------------------------------
APP_NAME="AI Learning Platform API"
# Môi trường chạy: development (phát triển) / staging (thử nghiệm) / production (sản phẩm thật)
ENVIRONMENT="development"

# -----------------------------------------------------------------------------
# Cấu hình Cơ sở dữ liệu (Database)
# -----------------------------------------------------------------------------
# Dùng MongoDB Atlas (cloud) hoặc MongoDB cài trên máy
MONGODB_URL=""

# Tên database (mặc định cho development):
MONGODB_DATABASE="ai_learning_app"

# -----------------------------------------------------------------------------
# Cài đặt xác thực JWT (Authentication)
# -----------------------------------------------------------------------------
# Tạo một chuỗi khóa bí mật mạnh bằng lệnh terminal: openssl rand -hex 32
SECRET_KEY="hay-doi-chuoi-nay-thanh-mat-khau-cuc-manh-khi-chay-that"
ALGORITHM="HS256"
# Thời gian hết hạn của Access Token (phút)
ACCESS_TOKEN_EXPIRE_MINUTES=15
# Thời gian hết hạn của Refresh Token (ngày)
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# Dịch vụ AI (Google GenAI / Gemini)
# -----------------------------------------------------------------------------
# Lấy API key tại: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY="dien_google_api_key_cua_ban_vao_day"
GEMINI_MODEL="gemini-2.5-flash" 


# -----------------------------------------------------------------------------
# Redis Cache (Tùy chọn - dùng cho session/cache)
# -----------------------------------------------------------------------------
# Dành cho Redis chạy local:
REDIS_URL="redis://localhost:6379/0"
# Hoặc cấu hình Redis Cloud (bỏ comment nếu dùng):
# REDIS_URL="redis://username:password@redis-host:port/0"

# -----------------------------------------------------------------------------
# Cài đặt CORS (Kết nối với Frontend)
# -----------------------------------------------------------------------------
# Điền địa chỉ IP của máy chủ Frontend (hoặc localhost).
# Hệ thống sẽ tự tạo danh sách các domain được phép truy cập dựa trên IP này.
FRONTEND_IP="127.0.0.1"

# Tùy chọn: Danh sách các cổng (port) frontend nếu khác mặc định (3000, 5173, 8081).
# Ngăn cách bằng dấu phẩy.
# FRONTEND_PORTS="3000,5173"

# -----------------------------------------------------------------------------
# Dịch vụ Email (SendGrid hoặc SMTP)
# -----------------------------------------------------------------------------
# Nếu dùng SendGrid:
SENDGRID_API_KEY=""
FROM_EMAIL="noreply@ailearning.com"

# Hoặc dùng SMTP (Gmail, Outlook...):
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER="email-cua-ban@gmail.com"
# SMTP_PASSWORD="mat-khau-ung-dung"

# -----------------------------------------------------------------------------
# Lưu trữ File (CloudFlare R2 / AWS S3 / Local)
# -----------------------------------------------------------------------------
# Loại lưu trữ: local (lưu trên máy) / s3 (Amazon S3) / r2 (CloudFlare)
STORAGE_TYPE="local"

# Cấu hình cho lưu trữ local:
UPLOAD_DIR="./uploads"
MAX_UPLOAD_SIZE_MB=50

# Cấu hình cho S3 hoặc R2 (CloudFlare):
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_BUCKET_NAME=""
S3_REGION="auto"
# Endpoint URL (Bắt buộc nếu dùng R2): https://<account-id>.r2.cloudflarestorage.com
S3_ENDPOINT_URL=""

# -----------------------------------------------------------------------------
# Cài đặt Bảo mật (Security Settings)
# -----------------------------------------------------------------------------
# Giới hạn số lượng request mỗi phút (Rate limiting)
RATE_LIMIT_PER_MINUTE=100
# Độ phức tạp khi mã hóa mật khẩu (số vòng lặp bcrypt)
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Ghi Log & Giám sát (Logging & Monitoring)
# -----------------------------------------------------------------------------
# Mức độ ghi log: DEBUG (chi tiết) / INFO (thông tin) / WARNING (cảnh báo) / ERROR (lỗi)
LOG_LEVEL="INFO"
# Sentry DSN (Tùy chọn: để theo dõi lỗi online)
SENTRY_DSN=""

# -----------------------------------------------------------------------------
# Cờ tính năng (Feature Flags - Bật/Tắt chức năng)
# -----------------------------------------------------------------------------
ENABLE_AI_CHAT=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_VECTOR_SEARCH=false

# -----------------------------------------------------------------------------
# Phát triển & Kiểm thử (Development/Testing)
# -----------------------------------------------------------------------------
# Chỉ bật true khi đang code (development), tắt khi chạy thật
DEBUG=false
TESTING=false
