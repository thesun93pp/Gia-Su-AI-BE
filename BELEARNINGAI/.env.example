# =============================================================================
# BELEARNINGAI Backend Environment Variables
# =============================================================================
# Copy this file as .env and fill in actual values
# Do NOT commit .env file to Git!

# -----------------------------------------------------------------------------
# Application Settings
# -----------------------------------------------------------------------------
APP_NAME="AI Learning Platform API"
ENVIRONMENT="development"  # development/staging/production

# -----------------------------------------------------------------------------
# Database Configuration
# -----------------------------------------------------------------------------
# MongoDB Atlas or local MongoDB
MONGODB_URL="mongodb://localhost:27017"
# For production:
# MONGODB_URL="mongodb+srv://username:password@cluster.mongodb.net/?retryWrites=true&w=majority"
MONGODB_DATABASE="ai_learning_app"

# -----------------------------------------------------------------------------
# JWT Authentication Settings
# -----------------------------------------------------------------------------
# Generate strong secret key with: openssl rand -hex 32
SECRET_KEY="your-super-secret-jwt-key-change-this-in-production"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=15
REFRESH_TOKEN_EXPIRE_DAYS=7

# -----------------------------------------------------------------------------
# AI Services (Google GenAI / Gemini)
# -----------------------------------------------------------------------------
# Get API key from: https://aistudio.google.com/app/apikey
GOOGLE_API_KEY=""
GEMINI_MODEL="gemini-2.5-flash"



# -----------------------------------------------------------------------------
# Redis Cache (Optional - dùng cho session/cache)
# -----------------------------------------------------------------------------
REDIS_URL="redis://localhost:6379/0"
# Hoặc Redis Cloud:
# REDIS_URL="redis://username:password@redis-host:port/0"

# -----------------------------------------------------------------------------
# CORS Settings (Frontend URLs)
# -----------------------------------------------------------------------------
# List of allowed origins, separated by commas
ALLOWED_ORIGINS='["http://localhost:3000", "http://localhost:5173", "http://127.0.0.1:5500"]'

# -----------------------------------------------------------------------------
# Email Service (SendGrid hoặc SMTP)
# -----------------------------------------------------------------------------
SENDGRID_API_KEY=""
FROM_EMAIL="noreply@ailearning.com"
# Hoặc SMTP settings:
# SMTP_HOST="smtp.gmail.com"
# SMTP_PORT=587
# SMTP_USER=""
# SMTP_PASSWORD=""

# -----------------------------------------------------------------------------
# File Storage (CloudFlare R2 / AWS S3)
# -----------------------------------------------------------------------------
STORAGE_TYPE="local"  # local/s3/r2
# Cho local storage:
UPLOAD_DIR="./uploads"
MAX_UPLOAD_SIZE_MB=50

# For S3/R2:
S3_ACCESS_KEY_ID=""
S3_SECRET_ACCESS_KEY=""
S3_BUCKET_NAME=""
S3_REGION="auto"
S3_ENDPOINT_URL=""  # For R2: https://<account-id>.r2.cloudflarestorage.com

# -----------------------------------------------------------------------------
# Security Settings
# -----------------------------------------------------------------------------
# Rate limiting (requests per minute)
RATE_LIMIT_PER_MINUTE=100
# Password hashing (bcrypt rounds)
BCRYPT_ROUNDS=12

# -----------------------------------------------------------------------------
# Logging & Monitoring
# -----------------------------------------------------------------------------
LOG_LEVEL="INFO"  # DEBUG/INFO/WARNING/ERROR
SENTRY_DSN=""  # Optional: Sentry error tracking

# -----------------------------------------------------------------------------
# Feature Flags
# -----------------------------------------------------------------------------
ENABLE_AI_CHAT=true
ENABLE_EMAIL_NOTIFICATIONS=true
ENABLE_VECTOR_SEARCH=false

# -----------------------------------------------------------------------------
# Development/Testing
# -----------------------------------------------------------------------------
# Only use in development
DEBUG=false
TESTING=false
